!function(){var e={"Indigenous Mice":"common","Dock Dwellers":"dock","Mountain Mice":"mountain","Forest Guild":"forest","Lab Experiments":"lab","Shadow Clan":"shadow","Digby Dirt Dwellers":"dirt","Followers of Furoma":"furoma","The Forgotten Mice":"forgotten","Aquatic Order":"hydro","The Elub Tribe":"elub","The Nerg Tribe":"nerg","The Derr Tribe":"derr","The Dreaded Horde":"dread","Draconic Brood":"dracaonic","Balack's Banished":"balack","Gauntlet Gladiators":"gauntlet","Seasonal Soldiers":"seasonal","Wizard's Pieces":"chess","Zurreal's Breed":"zzlibrary","Icewing's Invasion":"iceberg","Wild Bunch":"wild_bunch","Train Robbers":"train_robbers","Meteorite Miners":"fort_rox","The Marching Flame":"desertarmy","Muridae Market Mice":"desertmarket","Living Garden Mice":"living_garden","Lost City Mice":"lost_city","Sand Dunes Mice":"sand_dunes","Queso Canyoneers":"queso_canyon","Deep Sea Dwellers":"deep_sea_dwellers","Fungal Fiends":"fungal_cavern","Citizens of Zokor":"ancient_city","Moussu Picchu Inhabitants":"moussu_picchu","Rift Walkers":"rift_walkers","Rift Stalkers":"rift_stalkers","The Polluted":"polluted","Event Mice":"event"},t={"Indigenous Mice":["Misc.","Rare Rodents"],"Dock Dwellers":["Misc."],"Mountain Mice":["Misc."],"Forest Guild":["Misc."],"Lab Experiments":["Misc."],"Shadow Clan":["Misc."],"Digby Dirt Dwellers":["Misc."],"Followers of Furoma":["Misc."],"The Forgotten Mice":["Misc."],"Aquatic Order":["Misc."],"The Elub Tribe":["Misc."],"The Nerg Tribe":["Misc."],"The Derr Tribe":["Misc."],"The Dreaded Horde":["Misc."],"Draconic Brood":["Misc."],"Balack's Banished":["Misc."],"Gauntlet Gladiators":["Tier 1: Puppet","Tier 2: Thief","Tier 3: Melee","Tier 4: Bard","Tier 5: Magic","Tier 6: Noble","Tier 7: Dust","Tier 8: The Eclipse"],"Seasonal Soldiers":["Spring","Summer","Fall","Winter"],"Wizard's Pieces":["Misc.","Mystic","Technic"],"Zurreal's Breed":["Misc."],"Icewing's Invasion":["Misc.","Bergling","Tunnel Rat","Brute","Bomb Squad","Zealot","Icewing's Generals"],"Wild Bunch":["Misc.","Crew","Ringleader"],"Train Robbers":["Passenger","Depot Worker","Automice","Raider","Fueler"],"Meteorite Miners":["Misc.","Weremice","Cosmic Critter","Special","Dawn Destroyer"],"The Marching Flame":["Archer","Artillery","Cavalry","Mage","Scout","Warrior","Support","Command"],"Muridae Market Mice":["Misc."],"Living Garden Mice":["Misc."],"Lost City Mice":["Misc."],"Sand Dunes Mice":["Misc."],"Queso Canyoneers":["River Riders","Spice Mice","Quarry Quarries"],"Deep Sea Dwellers":["Sunken City Citizen","Finned Fiend","Coral Corral","Barnacled Bunch","Scale Society","Treasure Troop","Predator Pack"],"Fungal Fiends":["Fungal Fodder","Gruyere Grazer","Mineral Muncher","Gemstone Gorger","Diamond Devourer"],"Citizens of Zokor":["Hallway Wanderer","Fungal Farmer","Lost Scholar","Fealty Sworn Soldier","Tech Engineer","Treasure Miser","Hidden Remnant"],"Moussu Picchu Inhabitants":["Fungal Feeder","Potion Brewer","Wind Wanderer","Rain Roamer","Storm Dragon"],"Rift Walkers":["Gnawnia Rift","Burroughs Rift","Whisker Woods Rift"],"Rift Stalkers":["Bristle Woods Rift","Furoma Rift"],"The Polluted":["Misc."],"Event Mice":["Great Winter Hunt","Halloween","Spring Egg Hunt","New Year","Misc.","Prize","Great Gnawnian Games","Birthday","Lunar New Year","Valentine's"]},r=["Arcane","Draconic","Forgotten","Hydro","Parental","Physical","Shadow","Tactical","Law","Rift"];function a(e){return null!=e&&"function"==typeof e[Symbol.iterator]}!function(){if(!window.jQuery)return void alert("Error: jQuery is not enabled on this page");if(!$(".campPage-trap-trapStat.power > div:nth-child(2)").length)return void alert("Error: Can't find total trap power value\n\nPlease make sure you are on the Camp page of mousehuntgame.com and have FreshCoat enabled");var n=document.createElement("div");n.id="mht-mouse-powers-tool";var i=document.createElement("button");i.textContent="x",i.onclick=function(){document.body.removeChild(n)};var o=document.createElement("span");o.style.fontSize="15px",o.style.fontWeight="bold",o.appendChild(document.createTextNode("Mouse Powers Bookmarklet"));var s=document.createElement("span");s.innerHTML="Pick a mouse group and hit Go";var l=document.createElement("select");l.setAttribute("id","mouse-subgroup-select"),l.appendChild(new Option("All","All")),l.appendChild(new Option("Misc.","Misc.")),l.appendChild(new Option("Rare Rodents","Rare Rodents"));var d=document.createElement("select");d.setAttribute("id","mouse-group-select"),d.onchange=function(){var e=$("#mouse-group-select :selected").text(),r=t[e],a=document.getElementById("mouse-subgroup-select");if(a){a.innerHTML="",a.appendChild(new Option("All","All"));for(var n=0;n<r.length;n++){var i=r[n];a.appendChild(new Option(i,i))}}};for(var c=0;c<Object.keys(e).length;c++){var u=Object.keys(e)[c];d.appendChild(new Option(u,u))}var p=document.createElement("span");p.innerHTML="Rift Bonus<br>None / Walker / Stalker";var m=document.createElement("input");m.setAttribute("type","radio"),m.setAttribute("name","rift-bonus"),m.setAttribute("value",0);var h=document.createElement("input");h.setAttribute("type","radio"),h.setAttribute("name","rift-bonus"),h.setAttribute("value",1);var f=document.createElement("input");f.setAttribute("type","radio"),f.setAttribute("name","rift-bonus"),f.setAttribute("value",2),f.setAttribute("checked","checked");var g=document.createElement("button");g.textContent="Go",g.onclick=function(){var t,n,i,o;t=$("#mouse-group-select :selected").text(),n=$("#mouse-subgroup-select :selected").text(),i=parseInt($("input[name=rift-bonus]:checked").val()),o={page:"Adversaries","page_arguments[tab]":"groups","page_arguments[sub_tab]":"all","page_arguments[category]":e[t],uh:user.unique_hash},$.post("https://www.mousehuntgame.com/managers/ajax/pages/page.php",o,null,"json").done(function(e){if(e){for(var t,o=e.page.tabs[0].subtabs[0].categories,s=0;s<o.length;s++)if(o[s].initialized&&"active"===o[s].status){t=o[s];break}for(var l="",d=$(".campPage-trap-trapStat.power > div:nth-child(2)").map(function(){return $(this).context.textContent}).toArray()[0],c=parseInt(d.replace(/,/,"")),s=0;s<r.length;s++)d.indexOf(r[s])>-1&&(l=r[s]);var u={"user-data":{}};u["user-data"].weapon=user.weapon_name,u["user-data"].base=user.base_name,u["user-data"].charm=user.trinket_name?user.trinket_name:"Baitkeep Charm",u["user-data"]["power-bonus"]=user.trap_power_bonus,u["user-data"].battery=0,u["user-data"]["zt-amp"]=100,u["user-data"]["tg-pour"]=!1,u["user-data"]["rift-multiplier"]=i,u["user-data"].empowered=!1,user.bait_name&&user.bait_name.indexOf("Empowered")>-1&&(u["user-data"].empowered=!0);var p=user.location,m=user.quests;if("Furoma Rift"===p){var h=m.QuestRiftFuroma.droid.charge_level;""!==h&&(u["user-data"].battery={charge_level_one:1,charge_level_two:2,charge_level_three:3,charge_level_four:4,charge_level_five:5,charge_level_six:6,charge_level_seven:7,charge_level_eight:8,charge_level_nine:9,charge_level_ten:10}[h])}else"Zugzwang's Tower"===p?u["user-data"]["zt-amp"]=user.viewing_atts.zzt_amplifier:"Twisted Garden"===p&&"dumped"===m.QuestLivingGarden.minigame.vials_state&&(u["user-data"]["tg-pour"]=!0);var f=Date.now();u["user-data"].timestamp=f,u["user-data"]["dom-trap-type"]=l,u["user-data"]["dom-trap-power"]=c,console.group("Displayed Power: "+c+" ("+l+") ["+new Date(f)+"]"),u["mouse-data"]={};for(var s=0;s<t.subgroups.length;s++){var g=t.subgroups[s];if("All"===n||n===g.name){var v=t.name+" ("+g.name+")";u["mouse-data"][v]={},console.group("Group: "+v);for(var b=0;b<g.mice.length;b++){var M=g.mice[b],w=M.name.trim();console.log(w+" ("+M.difficulty+")");var y={};y.id=parseInt(M.mouse_id),y.gold=parseInt(M.gold.replace(/,/g,"")),y.points=parseInt(M.points.replace(/,/g,"")),y.difficulty=M.difficulty;var C={Arcane:0,Draconic:0,Forgotten:0,Hydro:0,Parental:0,Physical:0,Shadow:0,Tactical:0,Law:0,Rift:0},_=r,T=M.weaknesses;if(Object.keys(T).length>0){if(a(T.effective))for(var E=0;E<T.effective.length;E++){var k=T.effective[E];C[k.name]=100,_=_.filter(function(e){return e!==k.name})}if(a(T.veryEffective))for(var E=0;E<T.veryEffective.length;E++){var k=T.veryEffective[E];C[k.name]=">100",_=_.filter(function(e){return e!==k.name})}if(a(T.lessEffective))for(var E=0;E<T.lessEffective.length;E++){var k=T.lessEffective[E];C[k.name]="<100",_=_.filter(function(e){return e!==k.name})}if(a(_))for(var E=0;E<_.length;E++)C[_[E]]=0}y.effs=[],y.effs.push(C.Arcane),y.effs.push(C.Draconic),y.effs.push(C.Forgotten),y.effs.push(C.Hydro),y.effs.push(C.Parental),y.effs.push(C.Physical),y.effs.push(C.Shadow),y.effs.push(C.Tactical),y.effs.push(C.Law),y.effs.push(C.Rift),u["mouse-data"][v][w]=y}console.groupEnd()}}console.groupEnd();var S=window.open("");S.location="https://tsitu.github.io/MH-Tools/powers-worksheet.html",S.name=JSON.stringify(u)}})},n.appendChild(i),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br")),n.appendChild(o),n.appendChild(document.createElement("br")),n.appendChild(s),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br")),n.appendChild(d),n.appendChild(document.createElement("br")),n.appendChild(l),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br")),n.appendChild(p),n.appendChild(document.createElement("br")),n.appendChild(m),n.appendChild(h),n.appendChild(f),n.appendChild(document.createElement("br")),n.appendChild(document.createElement("br")),n.appendChild(g),n.style.backgroundColor="#F5F5F5",n.style.position="fixed",n.style.zIndex="9999",n.style.left="20%",n.style.top="88px",n.style.border="solid 3px #696969",n.style.borderRadius="20px",n.style.padding="10px",n.style.textAlign="center",document.body.appendChild(n)}()}();